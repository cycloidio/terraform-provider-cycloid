# cycloid_catalog_repository (Resource)

[Cycloid catalog repositories](https://docs.cycloid.io/reference/config-and-catalog-repository/) contains Cycloid stacks.

You can manage them using terraform.

A catalog repository requires git credentials (ssh_key or http token) to be able to fetch the catalog.

You can manage the default visiblity and team maintainer of the stacks in a repository by using the `on_create_visibility` and `on_create_team` attributes. Those settings are only applied on the catalog creation. To manage the visibility of a stack already imported, use the `resource_stack`.

## Example Usage


```terraform
resource "cycloid_credential" "tf_credential_catalog_repo" {
  name = "tfcredentialcatalogrepo"
  path = "pathcatalogrepo"
  type = "ssh"
  body = {
    ssh_key = var.credential_ssh_key
  }
  canonical = "tfcredentialcatalogrepo"
}

resource "cycloid_catalog_repository" "tf_catalog_repository" {
  name = "tfcatalogrepo"
  credential_canonical = cycloid_credential.tf_credential_catalog_repo.canonical
  url = var.catalog_repository_url
  branch = var.catalog_repository_branch
}

provider "cycloid" {
  url                    = var.cycloid_api_url
  jwt                    = var.cycloid_api_key
  organization_canonical = var.cycloid_organization
}

terraform {
  required_providers {
    cycloid = {
      source = "cycloidio/cycloid"
    }
  }
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `branch` (String)
- `name` (String)
- `url` (String)

### Optional

- `canonical` (String)
- `credential_canonical` (String)
- `on_create_team` (String) The visibility setting allows to specify which visibility will be applied to stacks in this catalog repository.
This option is only applied during initial catalog repository creation, not for subsequent updates.
- `on_create_visibility` (String) Team responsible for the maintenance of the underlying service catalogs
- `organization_canonical` (String) A canonical of an organization.
- `owner` (String) User canonical that owns this service catalog source. If omitted then the person
creating this service catalog source will be assigned as owner. When a user is the
owner of a service catalog source they has all the permissions on it.

### Read-Only

- `data` (Attributes) (see [below for nested schema](#nestedatt--data))

<a id="nestedatt--data"></a>
### Nested Schema for `data`

Read-Only:

- `branch` (String)
- `canonical` (String)
- `credential_canonical` (String)
- `name` (String)
- `stack_count` (Number)
- `stacks` (Attributes List) Represents list of service catalogs in the service catalog source. Not used during update action on a service catalog source. (see [below for nested schema](#nestedatt--data--stacks))
- `url` (String)

<a id="nestedatt--data--stacks"></a>
### Nested Schema for `data.stacks`

Read-Only:

- `author` (String)
- `blueprint` (Boolean) Determines if given stack is a blueprint
- `canonical` (String)
- `cloud_providers` (Attributes List) Cloud providers supported by the stack (see [below for nested schema](#nestedatt--data--stacks--cloud_providers))
- `dependencies` (Attributes List) (see [below for nested schema](#nestedatt--data--stacks--dependencies))
- `description` (String)
- `directory` (String) Directory where the stacks configuration is found.
- `form_enabled` (Boolean) Indicates if this stack can be configured with form's or not. Based on the presence or not of a valid .forms.yaml file since it's creation or last refresh.
- `keywords` (List of String)
- `name` (String)
- `organization_canonical` (String) Organization that the stack belongs to
- `quota_enabled` (Boolean) Indicates if this stack can be configured with form's and has a Quota configuration.
- `readme` (String) Readme of the stack
- `ref` (String)
- `team` (Attributes) The entity which represents the information of a team a bit simplified. (see [below for nested schema](#nestedatt--data--stacks--team))
- `technologies` (Attributes List) (see [below for nested schema](#nestedatt--data--stacks--technologies))
- `trusted` (Boolean) If 'true' the stacks is from the main organization and can be trusted.
- `visibility` (String)

<a id="nestedatt--data--stacks--cloud_providers"></a>
### Nested Schema for `data.stacks.cloud_providers`

Read-Only:

- `abbreviation` (String)
- `canonical` (String)
- `name` (String)
- `regions` (List of String)


<a id="nestedatt--data--stacks--dependencies"></a>
### Nested Schema for `data.stacks.dependencies`

Read-Only:

- `ref` (String)
- `required` (Boolean)


<a id="nestedatt--data--stacks--team"></a>
### Nested Schema for `data.stacks.team`

Read-Only:

- `canonical` (String)


<a id="nestedatt--data--stacks--technologies"></a>
### Nested Schema for `data.stacks.technologies`

Read-Only:

- `technology` (String)
- `version` (String)





